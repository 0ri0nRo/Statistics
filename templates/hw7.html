<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Distributions and Sampling Visualization</title>
<style>
    body {
        font-family: 'Arial', sans-serif;
        background-color: #f0f8ff;
        margin: 0;
        padding: 20px;
        color: #333;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    h1, h2 {
        color: #004d99;
        margin-bottom: 10px;
    }
    h1 { font-size: 2em; }
    h2 { font-size: 1.5em; }
    .controls {
        background: #e0f7fa;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
        width: 70%;
        margin-bottom: 20px;
        text-align: left;
    }
    .controls label, .controls p {
        font-size: 1em;
        color: #333;
    }
    .controls label {
        font-weight: bold;
        margin-top: 10px;
    }
    .controls input, .controls select {
        padding: 8px;
        margin: 5px 0;
        border: 1px solid #004d99;
        border-radius: 4px;
        font-size: 16px;
    }
    button {
        padding: 10px 20px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        margin-top: 15px;
        transition: background-color 0.3s;
    }
    button:hover { background-color: #0056b3; }
    canvas {
        border: 1px solid #ccc;
        background-color: white;
        margin-top: 20px;
    }
    .output-section {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 70%;
    }
</style>
</head>
<body>

<h1>Distribution and Sampling Visualization</h1>

<div class="controls">
    <h2>Parameters</h2>
    <label for="n">Modulo (n):</label>
    <input type="number" id="n" value="19" min="2">
    <label for="g">Base (g):</label>
    <input type="number" id="g" value="2" min="1">
    <label for="maxU">Maximum U:</label>
    <input type="number" id="maxU" value="100" min="1">
    <label for="samples">Number of Samples:</label>
    <input type="number" id="samples" value="1000" min="100" max="10000">
    <button onclick="generateDistribution()">Generate Distribution</button>
</div>

<div class="output-section">
    <canvas id="distributionCanvas" width="800" height="500"></canvas>
</div>

<script>
    const canvas = document.getElementById('distributionCanvas');
    const ctx = canvas.getContext('2d');

    function generateDistribution() {
        // Parameters
        const n = parseInt(document.getElementById('n').value);
        const g = parseInt(document.getElementById('g').value);
        const maxU = parseInt(document.getElementById('maxU').value);
        const samples = parseInt(document.getElementById('samples').value);

        // Generate Y = g^U % n
        const U = Array.from({ length: samples }, () => Math.floor(Math.random() * maxU) + 1);
        const Y = U.map(u => Math.pow(g, u) % n);

        // Frequency distribution
        const frequencies = Array(n).fill(0);
        Y.forEach(value => frequencies[value]++);

        // Normalize frequencies for visualization
        const maxFreq = Math.max(...frequencies);
        const barWidth = (canvas.width - 60) / n;

        // Clear canvas and draw
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#007bff';
        ctx.font = '14px Arial';
        for (let i = 0; i < n; i++) {
            const barHeight = (frequencies[i] / maxFreq) * (canvas.height - 60);
            const x = 30 + i * barWidth;
            const y = canvas.height - 30 - barHeight;

            // Draw bars
            ctx.fillRect(x, y, barWidth - 5, barHeight);

            // Labels
            ctx.fillStyle = 'black';
            ctx.fillText(i, x + barWidth / 2 - 5, canvas.height - 10);
            ctx.fillText(frequencies[i], x + barWidth / 2 - 10, y - 10);
            ctx.fillStyle = '#007bff';
        }

        // Draw axis
        ctx.beginPath();
        ctx.moveTo(30, canvas.height - 30);
        ctx.lineTo(canvas.width - 30, canvas.height - 30);
        ctx.stroke();

        ctx.beginPath();
        ctx.moveTo(30, canvas.height - 30);
        ctx.lineTo(30, 30);
        ctx.stroke();
    }

    // Initialize with default values
    generateDistribution();
</script>

</body>
</html>
